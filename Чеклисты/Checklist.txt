Чеклист для собеседования

Общее
[] SOLID, расшифровка каждой буквы + примеры из го
![] Паттерны из Gang of Four, мочь сказать какие виды + 3-4 запомнить и как их использовать
[] Что такое хеш таблица, сет, стек, очередь и для чего нужны
[] Что такое TPC/IP, в чем отличия с UDP?
[] Как работает http запрос? Коды ошибок, http методы.
[] Отличия http и https. Как работает https?
[] http/1 и http/2 в чем отличия?
[] Что такое идемпотентность в http запросах? Как реализовать?
[] Отличия rest и grpc, что когда нужно использовать? Как что работает?
[] Чем отличается поток от процесса?
[] Назови 10 команд линукс и что делают?
[] Что такое git flow? 
![] Что такое observability? Метрики прометеус логи логслог тресировка OpenTelemetry go.opentelemetry.io/otel
[] Проблемы с многопоточностью - data race, race condition, другие. Мочь пояснить за каждую с примером.
Resource Starvation (Голодание ресурса), ливлок Сервис A ретраит вызов к B, сервис B ретраит вызов к A
// Оба постоянно увеличивают таймауты, но никогда не синхронизируются


Go
[] Слайсы, отличие от массива
[] Как передаются параметры функции в го? А мапа?
В Go всегда передается по значению, но важно понимать, что именно копируется. Для простых типов копируются данные, для указателей и ссылочных типов - копируются ссылки на данные.
Map в Go передается по значению, но под капотом это структура, содержащая указатель на хэш-таблицу.
[] Как работает append при разных значениях len и cap
![] Как работает мапа?
[] Как сделать сет из мапы?
[] Что такое хеш функция? Как резолвятся и предотвращаются коллизии?
Разрешаются коллизии в структурах данных (как хеш-таблицы) с помощью метода цепочек или открытой адресации.
Предотвращаются (делаются нереализуемыми) коллизии за счет сложных криптографических алгоритмов с лавинным эффектом.
[] Интерфейс Error. Как надо работать с ошибками? Работа с ошибками между модулями.
[] Что такое каналы, какие виды, для чего. Запись и чтение из закрытых каналов. Аксиомы каналов.
[] Мьютексы, вейт группы, рвмьютексы, как создать в коде и как использовать, зачем нужны
[] Что такое sync.pool, пример использования?
[] sync.map и его использование, в чем отличие от мапы с мьютексом?
sync.Map использует двухуровневую систему с несколькими мьютексами:
// Упрощенное представление внутренней структуры
type Map struct {
    mu sync.Mutex           // Главный мьютекс для записей
    read atomic.Value       // atomic-поле для read-only данных
    dirty map[interface{}]*entry // "Грязная" map для новых записей
    misses int              // Счетчик промахов к read
}
Когда sync.Map НЕ использует мьютекс:
Чтение существующих ключей из read-only копии
LoadOrStore для существующих ключей
Range по read-only копии (если не было изменений
В остальных случаях (запись, удаление, изменение в ключе) используется мьютекс
Поэтому синк май подходит для частого чтения 
[] errgroup что такое, как использовать?
errgroup из пакета golang.org/x/sync/errgroup — это расширение sync.WaitGroup, которое:
Ожидает завершения группы горутин
Распространяет первую ошибку из любой горутины
Автоматически отменяет остальные горутины при первой ошибке
!!![] << ОЧЕНЬ ВАЖНО >> Как работает планировщик?
[] Что такое netpoller? Как работает?
!!![] << ОЧЕНЬ ВАЖНО >> Как работает garbage collector?
[] Что такое контекст? Как использовать?
[] Как сделать graceful shutdown?
[] Что такое padding/alignment в структурах в го?
 Поле должно начинаться с адреса, кратного его собственному выравниванию. размер структуры кратен самому большому полю
Адрес 0: [a]       ← byte, выравнивание 1 (адрес 0 кратен 1)
Адрес 1: [padding] ← ❌ b не может быть здесь (1 не кратно 4)
Адрес 2: [padding] ← ❌ b не может быть здесь (2 не кратно 4)  
Адрес 3: [padding] ← ❌ b не может быть здесь (3 не кратно 4)
Адрес 4: [b]       ← ✅ b начинается здесь (4 кратно 4)
Адрес 5: [b]       ← продолжение b
Адрес 6: [b]       ← продолжение b
Адрес 7: [b]       ← продолжение b
[] Интерфейсы, как реализованы, для чего используются?
[] Типизированный nil
var x *int = nil      // типизированный nil: указатель на int
var y []string = nil   // типизированный nil: slice
var z error = nil     // типизированный nil: error interface
[] Какие использовал логгеры? Какие использовал линтеры?
Использую golangci-lint с набором из 10+ линтеров в CI/CD пайплайне. 
[] Lock free структуры данных в го.

Базы Данных
[] Что такое транзакция?
[] Что такое триггеры?
Триггер (trigger) — это специальный тип хранимой процедуры, который автоматически выполняется при наступлении определенного события в таблице.
[] Какие агрегатные функции знаешь? 
[] ACID, каждая буква подробно
[] CAP theorem, каждый пункт подробно
Для любой распределенной системы, хранящей данные, невозможно одновременно обеспечить более двух из трех следующих свойств:
Согласованность (Consistency) После завершения операции записи, все последующие операции чтения (с любого узла) должны возвращать самое последнее значение или ошибку.
Доступность (Availability) Каждый запрос (как на чтение, так и на запись) к работоспособному узлу системы должен завершаться успешным ответом (не обязательно содержащим самое последнее значение) в разумные сроки и без ошибок.
Устойчивость к разделению (Partition Tolerance) Система продолжает корректно функционировать и сохранять свои свойства (C и A), несмотря на произошедший "раздел" (network partition) — то есть потерю или задержку произвольного количества сетевых сообщений между узлами кластера.
[] Для чего нужны индексы, какие бывают?
[] Что такое EXPLAIN и EXPLAIN ANALYZE?
EXPLAIN
Показывает предполагаемый план выполнения запроса, не выполняя его.
Что выводит:
Последовательность операций (сканирование таблиц, соединения, сортировки и т.д.).
Ориентировочную стоимость каждой операции (в условных единицах).
Ожидаемое количество строк.
Типы используемых индексов (если есть).
Пример (PostgreSQL):
EXPLAIN SELECT * FROM users WHERE age > 30;
Результат: План, который база данных собирается использовать, но без реальных данных о времени выполнения.
EXPLAIN ANALYZE
Выполняет запрос и показывает фактический план выполнения с реальными метриками.
Что выводит:
Все данные EXPLAIN.
Фактическое время выполнения каждой операции.
Реальное количество обработанных строк.
Расхождения между ожидаемыми и фактическими значениями.
Пример:
EXPLAIN ANALYZE SELECT * FROM users WHERE age > 30;
Важно: Запрос выполняется полностью, поэтому для тяжелых запросов это может занять время.
[] Что такое миграция? Как делать?
Миграция базы данных — это управление изменениями в структуре БД (схеме) и данных с помощью версионируемых скриптов, которые применяются последовательно. Это DevOps-практика, позволяющая безопасно развивать базу данных вместе с приложением.
Как сделать: golang-migrate, GORM
[] Что такое jsonb? Какой индекс к нему подходит? Для чего нужно?
[] Какие есть виды блокировок в базах данных? Оптимистичные и пессимистичные блокировки.
Пессимистичная - фор апдейт, оптимистичная - читаем меняем проверяем версию коммитим
[] Нормализация в базах данных. 4 нормальные формы (1-3 и нормальная форма Бойса-Кодда)
Нормализация — это процесс организации данных в БД для:
✅ Устранения избыточности данных
✅ Устранения аномалий (вставки, обновления, удаления)
✅ Упрощения структуры БД
✅ Повышения целостности данных
Первая нормальная форма (1НФ)
Атомарность значений — каждая ячейка содержит только одно значение
Отсутствие повторяющихся групп данных
Уникальные имена столбцов
Вторая нормальная форма (2НФ)
Таблица уже в 1НФ
Все неключевые атрибуты зависят от всего составного первичного ключа (если он есть)
Третья нормальная форма (3НФ)
Таблица уже в 2НФ
Нет транзитивных зависимостей
Нормальная форма Бойса-Кодда (НФБК)
Каждый детерминант — потенциальный ключ


Соседние технологии
[] Зачем нужен REDIS? Что такое cache hit? Когда использование кеша плохо?
Зачем нужен REDIS? Что такое cache hit? Когда использование кеша плохо?
Когда плохо: 
а) Когда данные должны быть всегда актуальными
б)  Когда данные уникальны для каждого запроса
Проблема: Кеш никогда не переиспользуется. Когда данные почти никогда не перечитываются
В) Когда данные слишком велики
Проблема: Кеш быстро заполняется.
Если у вас нет "горячих" данных, которые запрашиваются часто, или если каждый запрос уникален, кеш будет бесполезен.
в) Когда обновления очень частые
Проблема: Постоянная инвалидация кеша.
Г) для критически важных данных
[] Зачем нужна kafka? Что такое producer, consumer, topic, partition, consumer group?
[] Что такое докер? Отличия от виртуализации. Как писать dockerfile и docker compose?
Docker — это платформа для разработки, доставки и запуска приложений в изолированных средах, называемых контейнерами.
# 1. Используем официальный базовый образ
FROM node:18-alpine
# 2. Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app
# 3. Копируем файлы с зависимостями в первую очередь (для лучшего кеширования)
COPY package*.json ./
# 4. Устанавливаем зависимости
RUN npm install
# 5. Копируем весь исходный код проекта
COPY . .
# 6. Сообщаем, на каком порту работает приложение (информационная инструкция)
EXPOSE 3000
# 7. Команда для запуска приложения при старте контейнера
CMD ["node", "server.js"]

Docker Compose — это инструмент для определения и запуска многоконтейнерных приложений. 
# Версия формата файла (устарела в новых версиях, но часто указывается)
version: '3.8'

# Секция с определением сервисов (контейнеров)
services:
  # Сервис №1: Наше веб-приложение
  web:
    build: .  # Собрать образ из Dockerfile в текущей директории
    ports:
      - "3000:3000"  # Проброс портов: HOST:CONTAINER
    environment:  # Переменные окружения
      - DB_HOST=postgres
      - DB_USER=user
      - DB_PASSWORD=secret
    depends_on:  # Указывает зависимость: 'web' запустится после 'postgres'
      - postgres
    volumes:
      # Монтируем текущую директорию хоста в /app в контейнере
      # (полезно для разработки, чтобы изменения кода сразу применялись)
      - .:/app

  # Сервис №2: База данных PostgreSQL
  postgres:
    image: postgres:15  # Используем готовый образ из реестра
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=secret
      - POSTGRES_DB=myapp
    volumes:
      # Сохраняем данные БД в named volume, чтобы они не терялись при перезапуске
      - postgres_data:/var/lib/postgresql/data

# Определяем volumes, которые используются сервисами
volumes:
  postgres_data:
[] Что такое мультистейдж сборка в докере?
Мультистейдж (Multi-stage) сборка — это мощная функция Docker, которая позволяет использовать несколько этапов (FROM) в одном Dockerfile для создания оптимального итогового образа.
[] Что такое protobuf и как его использовать? Как поднимать версию и изменять прото контракт?
[] Что такое метаданные в grpc?
[] Как сделать распределенную транзакцию?
[] Что такое stateful и stateless микросервисы?
![] Паттерны микросервисов (уметь рассказать хотя бы 3) 
[] Что такое чистая архитектура?
[] Что такое DDD? Основы DDD.
Основы DDD коротко:
1)Единый язык - весь код и коммуникация на языке бизнеса
2)Ограниченные контексты - разбиваем систему на изолированные модули по бизнес-направлениям
3)Строительные блоки:
Сущность (Entity): Объект, который обладает уникальной идентичностью, которая сохраняется на протяжении всего его жизненного цикла. Его атрибуты могут меняться, но ID — нет.
Объект-Значение (Value Object): Объект, который не имеет идентичности. Он полностью определяется своими атрибутами. Они неизменяемы.
Агрегаты (ластер из сущностей и объектов-значений, который рассматривается как единое целое)
Сервисы (Логика, которая по своей природе не принадлежит ни к одной сущности или объекту-значению.)
Репозиторий (Repository): Абстракция для хранения и извлечения агрегатов. 
[] Что такое сага?
[] Как перейти от монолита к микросервисам?
Классический подход Мартина Фаулера.
Создайте тонкий слой прокси (API Gateway) перед монолитом.
Для новой функциональности — пишите сразу как микросервис.
Для существующей:
Выделите модуль в монолите в четкий API.
Реализуйте этот же API в новом микросервисе.
Направляйте трафик через Gateway сначала на старый код в монолите.
После тестирования переключите Gateway на новый сервис.
Удалите старый код из монолита (через несколько итераций).
В итоге монолит «усыхает», а микросервисы «душат» его.
[] Что такое OpenAPI? В чем отличие от Swagger?
OpenAPI — это СТАНДАРТ
Что это? Формальная спецификация, описывающая, как должен выглядеть документ, описывающий RESTful API.
 Swagger — это ИНСТРУМЕНТЫ, которые работают со спецификацией OpenAPI.
[] Что такое CQRS? Для чего нужен?
CQRS (Command Query Responsibility Segregation) — Разделение ответственности на команды и запросы.
Главная идея: Разделить модель данных на две отдельные части:
Команды (Commands) — для изменения данных (CUD: Create, Update, Delete)
Запросы (Queries) — для чтения данных (R: Read)
Вместо одной модели, которая делает всё, мы создаем две разные модели для разных целей.
CQRS позволяет: Масштабировать серверы чтения независимо от серверов записи. Можно иметь 10 реплик для чтения и 2 для записи.
[] Что такое JWT токен? Зачем нужен? Из чего состоит?
JWT (JSON Web Token) — это стандартный способ безопасной передачи информации между двумя сторонами в формате JSON.
Статистичность (Stateless)
Без JWT: Сервер хранит сессии пользователей в памяти/БД
С JWT: Вся информация в самом токене. Серверу не нужно ничего хранить!
Результат: Легкое горизонтальное масштабирование (добавляйте серверы без проблем)
Из чего состоит JWT? Анатомия токена
JWT состоит из трех частей, разделенных точками:
1. Header (Заголовок)
json
{
  "alg": "HS256",     // Алгоритм подписи (HMAC SHA256)
  "typ": "JWT"        // Тип токена
}
2.Payload (Полезная нагрузка)
Содержит утверждения (claims) — утверждения о пользователе и метаданные.
3. Signature (Подпись). Подпись НЕ шифрует данные! Она только гарантирует, что токен не был изменен. Payload в обычном JWT виден всем (можно декодировать на сайте https://jwt.io).

Систем дизайн
[] Что такое лоад балансер? Зачем нужен?
Лоад балансер (Load Balancer) — это "распределитель нагрузки", который равномерно распределяет входящий трафик между несколькими серверами.