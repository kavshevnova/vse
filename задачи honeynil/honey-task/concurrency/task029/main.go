// Задача 9 – Указатели в срезе и переменная цикла
// Как отработает код?
//
// ОТВЕТ (Go 1.22+):
//	0 1 2 3 4
//
// ОТВЕТ (Go < 1.22):
//	5 5 5 5 5
//
// Объяснение:
// Go < 1.22:
// - В цикле for i := 0; i < 5; i++ переменная i — ОДНА переменная
// - &i берёт адрес ОДНОЙ переменной; все 5 указателей в numbers указывают на ОДНУ i
// - После цикла i = 5
// - При печати *p = 5 для всех
//
// Go >= 1.22:
// - Семантика изменена: каждая итерация создаёт НОВУЮ переменную i
// - &i уникален для каждой итерации
// - При печати *p = 0, 1, 2, 3, 4
//
// ВАЖНО: это одно из ключевых отличий Go 1.22 от предыдущих версий!
package main

import "fmt"

func main() {
	numbers := []*int{}
	for i := 0; i < 5; i++ {
		numbers = append(numbers, &i)
	}
	for _, p := range numbers {
		fmt.Printf("%d ", *p)
	}
	fmt.Println()
}
